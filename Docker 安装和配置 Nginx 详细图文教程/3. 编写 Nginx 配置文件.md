## 3. 编写 Nginx 配置文件

在 `/mnt/nginx/conf` 目录下创建一个自定义的 Nginx 配置文件，执行以下命令：



```
![3.1](F:\Coding\Github\aioveu-vue3-element-admin-doc\Docker 安装和配置 Nginx 详细图文教程\3.1.png)sudo touch /mnt/nginx/conf/nginx.conf


#赋予配置文件权限
sudo chmod +777 /mnt/nginx/conf
sudo chmod +777 /mnt/nginx/conf/nginx.conf
```



![](F:\Coding\Github\aioveu-vue3-element-admin-doc\Docker 安装和配置 Nginx 详细图文教程\3.1.png)





接下来，使用以下配置来部署aioveu-vue3-element-admin项目的前端应用，并代理后端 API：

```
worker_processes 1;

events {
    worker_connections 1024;
}

http {
    include mime.types;
    default_type application/octet-stream;
    sendfile on;
    keepalive_timeout 65;

    # 开启gzip
    gzip on;
    gzip_http_version 1.1;
    gzip_disable "MSIE [1-6]\.";
    gzip_min_length 1k;
    gzip_buffers 16 64k;
    gzip_comp_level 5;
    gzip_vary on;
    gzip_types text/plain application/javascript text/css;

    server {
        listen 80;
        server_name localhost;
        location / {
        	# 指定前端静态资源路径
            # 需将 vue3-element-admin 项目构建后的 dist 目录拷贝至 /usr/share/nginx/html
            root /usr/share/nginx/html;
            index index.html index.htm;
        }

        # 代理后端 API 请求
        location /prod-api/ {
            proxy_set_header X-Real-IP $remote_addr;
            proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
            # 后端服务地址，注意保留 URL 末尾的 `/`
            proxy_pass https://192.168.25.21:8989/;
        }
    }
}

```







